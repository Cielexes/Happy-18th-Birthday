<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Happy 18th Birthday, Ezza!</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }

    body {
      background: linear-gradient(135deg, #0f2027 0%, #203a43 50%, #2c5364 100%);
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: 'Quicksand', 'Segoe UI', sans-serif;
      padding: 1rem;
      overflow-x: hidden;
    }

    #particleCanvas {
      position: fixed;
      top: 0;
      left: 0;
      z-index: 0;
      pointer-events: none;
    }

    .envelope-wrapper {
      max-width: 900px;
      width: 100%;
      cursor: pointer;
      filter: drop-shadow(0 20px 40px rgba(0, 0, 0, 0.6));
      z-index: 1;
      transition: transform 0.3s;
    }

    .envelope {
      background: linear-gradient(145deg, #1a2a6c, #000033);
      border-radius: 20px;
      box-shadow: 0 15px 0 #b8860b, 0 0 0 2px rgba(255,255,255,0.1) inset;
      padding: 2.5rem 1rem;
      position: relative;
      border: 3px solid #d4af37;
    }

    @keyframes shimmer {
      0% { background-position: -200% center; }
      100% { background-position: 200% center; }
    }

    .bday-header {
      background: linear-gradient(90deg, #d4af37 0%, #f7ef8a 50%, #d4af37 100%);
      background-size: 200% auto;
      animation: shimmer 3s linear infinite;
      color: #000033;
      padding: 12px 35px;
      border-radius: 50px;
      display: inline-block;
      margin-bottom: 25px;
      font-size: 1.5rem;
      font-weight: bold;
      box-shadow: 0 4px 15px rgba(212, 175, 55, 0.4);
      letter-spacing: 2px;
    }

    .envelope::before {
      content: '';
      position: absolute;
      top: -40px;
      left: 5%;
      width: 90%;
      height: 80px;
      background: #1a2a6c;
      border-radius: 20px 20px 0 0;
      box-shadow: 0 -8px 0 #b8860b;
      clip-path: polygon(0% 0%, 100% 0%, 50% 100%);
      transition: transform 0.5s ease-in-out;
      transform-origin: bottom;
      z-index: 5;
      border: 1px solid #d4af37;
    }

    .envelope.open::before { transform: rotateX(180deg) translateY(40px); }

    .flap-heart {
      position: absolute;
      top: -25px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 2.8rem;
      z-index: 10;
      transition: opacity 0.3s;
      filter: drop-shadow(0 0 10px gold);
    }

    .envelope.open .flap-heart { opacity: 0; }

    .card-inside {
      background: #fff;
      border-radius: 15px;
      padding: 2rem 1rem;
      transition: all 0.5s;
      text-align: center;
      display: flex;
      flex-direction: column;
      align-items: center;
      max-height: 85vh;
      overflow-y: auto;
      border: 4px double #d4af37;
    }

    .envelope:not(.open) .card-inside {
      opacity: 0;
      transform: translateY(20px);
      pointer-events: none;
    }

    .video-wrapper {
      position: relative;
      width: 100%;
      max-width: 750px;
      margin-bottom: 2rem;
    }

    .video-container {
      width: 100%;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 15px 35px rgba(0,0,0,0.3);
      border: 3px solid #C0C0C0;
      background: #000;
      line-height: 0;
    }

    .video-container video {
      width: 100%;
      height: auto;
      max-height: 60vh;
      display: block;
      object-fit: contain;
    }

    .fs-btn {
      position: absolute;
      bottom: 15px;
      right: 15px;
      background: rgba(255, 255, 255, 0.2);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(255, 255, 255, 0.4);
      color: white;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.8rem;
      font-weight: bold;
      transition: background 0.3s;
      z-index: 20;
    }

    .message-box {
      background: #fdfdfd;
      border: 1px solid #e5e5e5;
      border-left: 6px solid #d4af37;
      padding: 2.5rem 2rem;
      width: 100%;
      max-width: 750px;
      position: relative;
    }

    .message-box p {
      font-size: 1.15rem;
      color: #1a2a6c;
      font-family: 'Georgia', serif;
      line-height: 1.8;
      text-align: left;
    }

    .signature {
      display: block;
      margin-top: 35px;
      text-align: right;
      font-style: italic;
      color: #b8860b;
      font-size: 1.4rem;
      font-weight: bold;
      position: relative;
    }

    /* Sparkle Class */
    .sparkle {
      position: absolute;
      width: 10px;
      height: 10px;
      background: gold;
      border-radius: 50%;
      pointer-events: none;
      animation: sparkleAnim 1s linear forwards;
    }

    @keyframes sparkleAnim {
      0% { transform: scale(0) rotate(0deg); opacity: 1; }
      100% { transform: scale(1.5) rotate(180deg) translateY(-20px); opacity: 0; }
    }

    .eighteen { color: #b8860b; font-weight: bold; font-size: 1.5rem; }
    .footer-names { color: #b8860b; margin-top: 20px; font-size: 1rem; font-weight: bold; }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@600&display=swap" rel="stylesheet">
</head>
<body>
  <canvas id="particleCanvas"></canvas>

  <div class="envelope-wrapper" id="envelopeWrapper">
    <div class="envelope" id="envelope">
      <div class="flap-heart">‚ú®üíô‚ú®</div>
      
      <div class="card-inside" id="cardInside">
        <div class="bday-header">HAPPY 18th BIRTHDAY</div>
        
        <div class="video-wrapper">
          <div class="video-container">
            <video id="ezzaVideo" loop muted playsinline>
              <source src="ezza.mp4" type="video/mp4">
            </video>
          </div>
          <button class="fs-btn" id="fsBtn">‚õ∂ FULLSCREEN</button>
        </div>

        <div class="message-box">
          <p>
            Dear Ezza,<br><br>
            Happy <span class="eighteen">18th Birthday!</span> ü§ç<br><br>
            Eighteen. Can you believe it? It feels like just yesterday we were Grade 9 students, still trying to figure out high school, when we first met. I never expected that meeting you would turn into a friendship that would last through the years HAHAHAHA even when life decided to put us in separate sections from Grade 10 to Grade 12.<br><br>
            Even though we didn‚Äôt share the same classroom anymore, I‚Äôm so grateful that we never drifted apart. Distance, busy schedules, different classmates, none of it was strong enough to break what we built. And that‚Äôs something I will always treasure.<br><br>
            You‚Äôve grown so much since Grade 9. I‚Äôve seen your strength, your kindness, your determination, and the way you care so genuinely about the people around you. You deserve every good thing that comes your way. As you step into adulthood, I hope you never lose the light that makes you you‚Äîyour laughter, your ability to make others feel safe and understood.<br><br>
            Turning 18 means new responsibilities, and new dreams waiting to be chased. I hope you‚Äôre not afraid of what‚Äôs ahead. You are capable, you are brave, and you are stronger than you think. Whatever path you choose, I‚Äôll always be here cheering for you hehe<br><br>
            Thank you for staying. Thank you for choosing to keep our friendship alive. Thank you for being one of the constants in my life.<br><br>
            Here‚Äôs to more memories, more late talks, more inside jokes, and more years of friendship. ü§ç<br><br>
            Happy 18th, Ezza. Welcome to adulthood‚Äîthe world and I is lucky to have you.<br><br>
            <span class="signature" id="signature">With sincerest love,<br>Kimi üå∏</span>
          </p>
        </div>
        <div class="footer-names">To Ezza | From Kimi</div>
      </div>
    </div>
  </div>

  <audio id="bgMusic" loop preload="auto">
    <source src="luvya.mp3" type="audio/mpeg">
  </audio>

  <script>
    const pCanvas = document.getElementById('particleCanvas');
    const pCtx = pCanvas.getContext('2d');
    let particles = [];

    function resize() {
      pCanvas.width = window.innerWidth;
      pCanvas.height = window.innerHeight;
    }
    window.addEventListener('resize', resize);
    resize();

    class Confetti {
      constructor() { this.reset(); }
      reset() {
        this.x = Math.random() * pCanvas.width;
        this.y = Math.random() * -pCanvas.height;
        this.size = Math.random() * 5 + 2;
        this.speed = Math.random() * 2 + 1;
        this.color = ['#d4af37', '#C0C0C0', '#ffffff', '#4682B4'][Math.floor(Math.random() * 4)];
        this.tilt = Math.random() * 10;
      }
      update() {
        this.y += this.speed;
        this.tilt += 0.1;
        if (this.y > pCanvas.height) this.reset();
      }
      draw() {
        pCtx.beginPath(); pCtx.lineWidth = this.size; pCtx.strokeStyle = this.color;
        pCtx.moveTo(this.x + this.tilt + this.size / 2, this.y);
        pCtx.lineTo(this.x + this.tilt, this.y + this.tilt + this.size / 2);
        pCtx.stroke();
      }
    }

    for(let i=0; i<80; i++) particles.push(new Confetti());

    function animate() {
      pCtx.clearRect(0,0, pCanvas.width, pCanvas.height);
      particles.forEach(p => { p.update(); p.draw(); });
      requestAnimationFrame(animate);
    }
    animate();

    const envelope = document.getElementById('envelope');
    const wrapper = document.getElementById('envelopeWrapper');
    const audio = document.getElementById('bgMusic');
    const video = document.getElementById('ezzaVideo');
    const fsBtn = document.getElementById('fsBtn');
    const cardInside = document.getElementById('cardInside');
    const signature = document.getElementById('signature');

    wrapper.addEventListener('click', (e) => {
      if(e.target === fsBtn || e.target === video) return;
      const isOpen = envelope.classList.toggle('open');
      if (isOpen) {
        audio.play().catch(e => {});
        video.play().catch(e => {});
      } else {
        audio.pause();
        video.pause();
      }
    });

    fsBtn.addEventListener('click', (e) => {
      e.stopPropagation();
      if (video.requestFullscreen) video.requestFullscreen();
      else if (video.webkitRequestFullscreen) video.webkitRequestFullscreen();
    });

    // Sparkle Logic
    function createSparkle() {
      const s = document.createElement('div');
      s.className = 'sparkle';
      const rect = signature.getBoundingClientRect();
      s.style.left = Math.random() * 100 + '%';
      s.style.top = Math.random() * 100 + '%';
      signature.appendChild(s);
      setTimeout(() => s.remove(), 1000);
    }

    cardInside.addEventListener('scroll', () => {
      if (cardInside.scrollTop + cardInside.clientHeight >= cardInside.scrollHeight - 20) {
        for(let i=0; i<5; i++) setTimeout(createSparkle, i * 100);
      }
    });
  </script>
</body>
  </html>
  
